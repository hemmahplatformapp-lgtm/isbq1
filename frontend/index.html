<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISBAQ - ููุญุฉ ุชุญูู ุงูุฃูู ูุงูุฎุฏูุงุช</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="manifest" href="/static/manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <header>
            <h1>๐ก๏ธ ููุญุฉ ุชุญูู ISBAQ - ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุฌุงุฌ</h1>
            <div class="header-status">
                <div id="status-indicator" class="status-green">ูุชุตู</div>
                <div class="connection-time">ุงูููุช ุงูุญุงูู: <span id="current-time">--:--:--</span></div>
            </div>
        </header>

        <section class="controls-panel">
            <h2>๐ฎ ุงูุชุญูู ูู ุงููุญุงูุงุฉ</h2>
            <div class="controls-group">
                <button id="start-btn" class="control-btn primary">โถ๏ธ ุจุฏุก</button>
                <button id="pause-btn" class="control-btn secondary" disabled>โธ๏ธ ุฅููุงู ูุคูุช</button>
                <button id="reset-btn" class="control-btn danger">๐ ุฅุนุงุฏุฉ ุชุนููู</button>
                <button id="next-step-btn" class="control-btn info">โญ๏ธ ุงูุฎุทูุฉ ุงูุชุงููุฉ</button>
            </div>
            <div class="speed-group">
                <label for="speed-select">โก ุณุฑุนุฉ ุงูุชุดุบูู:</label>
                <select id="speed-select">
                    <option value="1">1x - ุนุงุฏู</option>
                    <option value="2">2x - ุณุฑูุน</option>
                    <option value="4">4x - ุณุฑูุน ุฌุฏุงู</option>
                </select>
            </div>
            <p id="simulation-info" class="simulation-info">ุงูุญุงูุฉ: ูุชููู. ุงูุณุฌู: 0 / 0</p>
        </section>

        <section class="stats-overview">
            <div class="stat-card stat-red">
                <div class="stat-icon">๐จ</div>
                <div class="stat-content">
                    <div class="stat-label">ูุฎุงููุงุช ุงููุณุงุฑ</div>
                    <div class="stat-value" id="red-stat">0</div>
                </div>
            </div>
            <div class="stat-card stat-orange">
                <div class="stat-icon">๐</div>
                <div class="stat-content">
                    <div class="stat-label">ูุฏุงุกุงุช ุงุณุชุบุงุซุฉ</div>
                    <div class="stat-value" id="orange-stat">0</div>
                </div>
            </div>
            <div class="stat-card stat-yellow">
                <div class="stat-icon">โ๏ธ</div>
                <div class="stat-content">
                    <div class="stat-label">ุฅุฌูุงุฏ ุญุฑุงุฑู</div>
                    <div class="stat-value" id="yellow-stat">0</div>
                </div>
            </div>
            <div class="stat-card stat-blue">
                <div class="stat-icon">๐ค</div>
                <div class="stat-content">
                    <div class="stat-label">ุฃุดุฎุงุต ููููุฏูู</div>
                    <div class="stat-value" id="blue-stat">0</div>
                </div>
            </div>
            <div class="stat-card stat-green" id="bracelet-card">
                <div class="stat-icon">๐</div>
                <div class="stat-content">
                    <div class="stat-label">ุงูุฃุณุงูุฑ ุงููุญุงููุฉ</div>
                    <div class="stat-value" id="bracelet-count">0</div>
                    <div id="bracelet-container" class="bracelet-container" aria-live="polite"></div>
                </div>
            </div>
        </section>

        <section class="main-grid">
            <div class="card counters-card">
                <h2>๐ ุงูุนุฏุงุฏุงุช ุงูุญูุฉ</h2>
                <div class="counter-item">
                    <span class="counter-label">ุงููููุน ุงูุญุงูู (Ground):</span>
                    <span id="ground-counter" class="counter-value">---</span>
                </div>
                <div class="counter-item">
                    <span class="counter-label">ุงููุณุงุฑ ุงููุนุชูุฏ (Nusuk):</span>
                    <span id="nusuk-counter" class="counter-value">---</span>
                </div>
                <div class="counter-item">
                    <span class="counter-label">ููุช ุงููุญุงูุงุฉ:</span>
                    <span id="time-counter" class="counter-value">---</span>
                </div>
                <div class="counter-item">
                    <span class="counter-label">ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุญุงููุฉ:</span>
                    <span id="temp-counter" class="counter-value">---</span>
                </div>
            </div>

            <div class="card alert-log-card">
                <h2>๐ ุณุฌู ุงูุฅุฌุฑุงุกุงุช ูุงูุชูุจููุงุช</h2>
                <div class="action-log-container">
                    <ul id="action-log">
                        <!-- Log entries will be added here -->
                    </ul>
                </div>
            </div>

            <div class="card chart-card">
                <h2>๐ ุชูุฒูุน ุงูุญุฌุงุฌ ุญุณุจ ุงููููุน</h2>
                <canvas id="locationChart"></canvas>
            </div>

            <div class="card chart-card">
                <h2>๐ก๏ธ ุฅุญุตุงุฆูุงุช ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ</h2>
                <div class="temp-stats">
                    <div class="temp-stat-item">
                        <span class="temp-label">ุงูุญุฏ ุงูุฃุฏูู:</span>
                        <span class="temp-value" id="min-temp">---</span>
                    </div>
                    <div class="temp-stat-item">
                        <span class="temp-label">ุงูุญุฏ ุงูุฃูุตู:</span>
                        <span class="temp-value" id="max-temp">---</span>
                    </div>
                    <div class="temp-stat-item">
                        <span class="temp-label">ุงููุชูุณุท:</span>
                        <span class="temp-value" id="avg-temp">---</span>
                    </div>
                </div>
                <canvas id="temperatureChart" style="margin-top: 20px;"></canvas>
            </div>

            <div class="card chart-card">
                <h2>โ๏ธ ุฑุณู ุจูุงูู ููุชูุจููุงุช</h2>
                <canvas id="alertsChart"></canvas>
            </div>

            <div class="card telemetry-card">
                <h2>๐ก ุจูุงูุงุช ุงูุญุงุฌ ุงูุญุงููุฉ (ุชูุงุนููุฉ)</h2>
                <div class="telemetry-display">
                    <div class="telemetry-row">
                        <span class="telemetry-label">ูุนุฑูู ุงูุญุงุฌ:</span>
                        <span class="telemetry-value" id="telemetry-id">---</span>
                    </div>
                    <div class="telemetry-row">
                        <span class="telemetry-label">ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ:</span>
                        <span class="telemetry-value" id="telemetry-temp">---</span>
                    </div>
                    <div class="telemetry-row">
                        <span class="telemetry-label">ุงููููุน ุงูุญุงูู:</span>
                        <span class="telemetry-value" id="telemetry-ground">---</span>
                    </div>
                    <div class="telemetry-row">
                        <span class="telemetry-label">ุงููุณุงุฑ ุงููุนุชูุฏ:</span>
                        <span class="telemetry-value" id="telemetry-nusuk">---</span>
                    </div>
                    <div class="telemetry-row">
                        <span class="telemetry-label">ุญุงูุฉ ุงูุงุณุชุบุงุซุฉ:</span>
                        <span class="telemetry-value" id="telemetry-sos">---</span>
                    </div>
                    <div class="telemetry-row">
                        <span class="telemetry-label">ุญุงูุฉ ุงูุชูุจูู:</span>
                        <span class="telemetry-alert" id="telemetry-alert">---</span>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Lost Person Modal -->
    <div id="lost-person-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>โ๏ธ ุชูุจูู: ุดุฎุต ููููุฏ</h2>
            <p>ุชู ุงูุฅุจูุงุบ ุนู ููุฏุงู ุงูุญุงุฌ ุฑูู: <strong id="lost-id-display"></strong></p>
            <p>ูุฑุฌู ุชูุนูู ุจุฑูุชูููู ุงูุจุญุซ ูุงูุฅุดุนุงุฑ.</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="/static/script.js"></script>
</body>
</html>
